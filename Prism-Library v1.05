local PrismHub = {}
PrismHub.__index = PrismHub

local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")
local RunService = game:GetService("RunService")

-- Default Configuration
local DefaultConfig = {
    -- Hub Settings
    Name = "Prism Hub",
    Size = UDim2.new(0, 800, 0, 550),
    Theme = "Purple",
    
    -- Visual Settings
    BackgroundAnimation = true,
    BlurEnabled = true,
    BlurIntensity = 5,
    BlurTweenDuration = 0.4,
    
    -- Animation Settings
    AnimationSpeed = 0.3,
    HoverAnimationSpeed = 0.2,
    
    -- Sizing Configuration
    Sizes = {
        TopBarHeight = 45,
        SidebarWidth = 70,
        SidebarButtonSize = 60,
        SidebarButtonSpacing = 15,
        
        ButtonHeight = 42,
        ToggleHeight = 42,
        ToggleWidth = 50,
        ToggleCircleSize = 20,
        SliderHeight = 60,
        SliderBarHeight = 8,
        DropdownHeight = 42,
        DropdownButtonHeight = 30,
        DropdownOptionHeight = 32,
        
        TabButtonWidth = 120,
        TabButtonMinHeight = 29,
        
        NotificationWidth = 300,
        NotificationHeight = 70,
        
        -- Paddings
        MainPadding = 10,
        ElementSpacing = 10,
        ContentPadding = 15,
        TabBarPadding = 8,
        
        -- Corners
        MainCorner = 16,
        PanelCorner = 12,
        ButtonCorner = 10,
        SmallCorner = 8,
        ToggleCorner = 999, -- Full round
        
        -- Strokes
        MainStroke = 2,
        PanelStroke = 1.5,
        ElementStroke = 1,
    },
    
    -- Colors
    Colors = {
        Background = Color3.fromRGB(15, 15, 20),
        BackgroundOverlay = Color3.fromRGB(20, 20, 30),
        Panel = Color3.fromRGB(30, 30, 40),
        Element = Color3.fromRGB(45, 45, 60),
        ElementHover = Color3.fromRGB(55, 55, 70),
        Accent = Color3.fromRGB(100, 100, 220),
        AccentHover = Color3.fromRGB(120, 120, 255),
        Text = Color3.fromRGB(255, 255, 255),
        TextSecondary = Color3.fromRGB(200, 200, 220),
        Stroke = Color3.fromRGB(100, 100, 150),
    }
}

-- Lucide Icons
local Icons = {
    Home = "ðŸ ",
    Info = "â„¹",
    Settings = "âš™",
    ChevronDown = "â€º",
    Check = "âœ“",
    X = "âœ•",
    Minus = "â”€",
    Bell = "ðŸ””",
    Save = "ðŸ’¾",
    Refresh = "ðŸ”„"
}

-- Helper Functions
local function DeepCopy(original)
    local copy = {}
    for k, v in pairs(original) do
        if type(v) == "table" then
            copy[k] = DeepCopy(v)
        else
            copy[k] = v
        end
    end
    return copy
end

local function MergeConfig(base, override)
    local result = DeepCopy(base)
    if not override then return result end
    
    for k, v in pairs(override) do
        if type(v) == "table" and type(result[k]) == "table" then
            result[k] = MergeConfig(result[k], v)
        else
            result[k] = v
        end
    end
    return result
end

local function CreateBlur(parent, intensity)
    local blur = Instance.new("BlurEffect")
    blur.Size = intensity or 0
    blur.Parent = parent or workspace.CurrentCamera
    return blur
end

local function TweenColor(object, property, color, duration)
    local tween = TweenService:Create(object, TweenInfo.new(duration or 0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        [property] = color
    })
    tween:Play()
    return tween
end

local function TweenSize(object, size, duration, style)
    local tween = TweenService:Create(object, TweenInfo.new(duration or 0.4, style or Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        Size = size
    })
    tween:Play()
    return tween
end

local function TweenPosition(object, position, duration, style)
    local tween = TweenService:Create(object, TweenInfo.new(duration or 0.4, style or Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        Position = position
    })
    tween:Play()
    return tween
end

local function CreateGradient(parent, colors, rotation)
    local gradient = Instance.new("UIGradient")
    gradient.Color = colors or ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(100, 100, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(150, 100, 255))
    }
    gradient.Rotation = rotation or 45
    gradient.Parent = parent
    return gradient
end

-- Create Prism Mosaic Background
local function CreatePrismBackground(parent, config)
    local Background = Instance.new("Frame")
    Background.Name = "PrismBackground"
    Background.Size = UDim2.new(1, 0, 1, 0)
    Background.BackgroundColor3 = config.Colors.Background
    Background.BorderSizePixel = 0
    Background.ZIndex = 0
    Background.Parent = parent
    
    local BackCorner = Instance.new("UICorner")
    BackCorner.CornerRadius = UDim.new(0, config.Sizes.MainCorner)
    BackCorner.Parent = Background
    
    if config.BackgroundAnimation then
        -- Animated gradient overlay
        local Overlay = Instance.new("Frame")
        Overlay.Size = UDim2.new(1, 0, 1, 0)
        Overlay.BackgroundColor3 = config.Colors.BackgroundOverlay
        Overlay.BackgroundTransparency = 0.3
        Overlay.BorderSizePixel = 0
        Overlay.ZIndex = 1
        Overlay.Parent = Background
        
        local OverlayCorner = Instance.new("UICorner")
        OverlayCorner.CornerRadius = UDim.new(0, config.Sizes.MainCorner)
        OverlayCorner.Parent = Overlay
        
        local gradient = CreateGradient(Overlay, ColorSequence.new{
            ColorSequenceKeypoint.new(0, Color3.fromRGB(80, 60, 200)),
            ColorSequenceKeypoint.new(0.5, Color3.fromRGB(120, 80, 220)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(60, 100, 180))
        }, 0)
        
        -- Animate gradient rotation
        spawn(function()
            local rotation = 0
            while Overlay and Overlay.Parent do
                rotation = (rotation + 0.5) % 360
                gradient.Rotation = rotation
                task.wait(0.05)
            end
        end)
        
        -- Create mosaic pattern
        for i = 1, 20 do
            local Prism = Instance.new("Frame")
            Prism.Size = UDim2.new(0, math.random(50, 150), 0, math.random(50, 150))
            Prism.Position = UDim2.new(math.random(), 0, math.random(), 0)
            Prism.BackgroundColor3 = Color3.fromRGB(
                math.random(80, 150),
                math.random(60, 120),
                math.random(180, 255)
            )
            Prism.BackgroundTransparency = math.random(70, 90) / 100
            Prism.BorderSizePixel = 0
            Prism.Rotation = math.random(0, 360)
            Prism.ZIndex = 2
            Prism.Parent = Background
            
            local corner = Instance.new("UICorner")
            corner.CornerRadius = UDim.new(0, math.random(8, 20))
            corner.Parent = Prism
            
            -- Animate prisms
            spawn(function()
                while Prism and Prism.Parent do
                    local newPos = UDim2.new(math.random(), 0, math.random(), 0)
                    local newRotation = math.random(0, 360)
                    
                    TweenPosition(Prism, newPos, math.random(10, 20))
                    TweenService:Create(Prism, TweenInfo.new(math.random(10, 20), Enum.EasingStyle.Linear), {
                        Rotation = newRotation
                    }):Play()
                    
                    task.wait(math.random(10, 20))
                end
            end)
        end
    end
    
    return Background
end

-- Create Glass Panel
local function CreateGlassPanel(parent, size, position, zindex, config)
    local Panel = Instance.new("Frame")
    Panel.Size = size
    Panel.Position = position
    Panel.BackgroundColor3 = config.Colors.Panel
    Panel.BackgroundTransparency = 0.4
    Panel.BorderSizePixel = 0
    Panel.ZIndex = zindex or 3
    Panel.Parent = parent
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, config.Sizes.PanelCorner)
    Corner.Parent = Panel
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = config.Colors.Stroke
    Stroke.Transparency = 0.7
    Stroke.Thickness = config.Sizes.PanelStroke
    Stroke.Parent = Panel
    
    return Panel
end

-- Create Hub
function PrismHub:CreateHub(userConfig)
    local self = setmetatable({}, PrismHub)
    
    -- Merge user config with defaults
    self.Config = MergeConfig(DefaultConfig, userConfig)
    
    self.HubName = self.Config.Name
    self.Size = self.Config.Size
    self.Theme = self.Config.Theme
    
    self.Tabs = {}
    self.CurrentTab = nil
    self.CurrentPage = "Home"
    self.Minimized = false
    self.Notifications = {}
    self.PageOrder = {Home = 1, Info = 2, Settings = 3}
    
    -- Animation locks
    self.switchingTab = false
    self.switchingPage = false
    
    -- Create ScreenGui
    self.ScreenGui = Instance.new("ScreenGui")
    self.ScreenGui.Name = "PrismHub"
    self.ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    self.ScreenGui.Parent = CoreGui
    
    -- Blur Effect
    self.Blur = CreateBlur(workspace.CurrentCamera, 0)
    
    -- Dropdown Container
    self.DropdownContainer = Instance.new("Frame")
    self.DropdownContainer.Name = "DropdownContainer"
    self.DropdownContainer.Size = UDim2.new(1, 0, 1, 0)
    self.DropdownContainer.BackgroundTransparency = 1
    self.DropdownContainer.ZIndex = 100
    self.DropdownContainer.Parent = self.ScreenGui
    
    -- Notification Container
    self.NotificationContainer = Instance.new("Frame")
    self.NotificationContainer.Name = "NotificationContainer"
    self.NotificationContainer.Size = UDim2.new(0, self.Config.Sizes.NotificationWidth, 1, 0)
    self.NotificationContainer.Position = UDim2.new(1, -(self.Config.Sizes.NotificationWidth + 20), 0, 20)
    self.NotificationContainer.BackgroundTransparency = 1
    self.NotificationContainer.ZIndex = 200
    self.NotificationContainer.Parent = self.ScreenGui
    
    local NotifLayout = Instance.new("UIListLayout")
    NotifLayout.Padding = UDim.new(0, 10)
    NotifLayout.SortOrder = Enum.SortOrder.LayoutOrder
    NotifLayout.VerticalAlignment = Enum.VerticalAlignment.Top
    NotifLayout.Parent = self.NotificationContainer
    
    -- Main Frame
    self.MainFrame = Instance.new("Frame")
    self.MainFrame.Name = "MainFrame"
    self.MainFrame.Size = self.Size
    self.MainFrame.Position = UDim2.new(0.5, -self.Size.X.Offset/2, 0.5, -self.Size.Y.Offset/2)
    self.MainFrame.BackgroundColor3 = self.Config.Colors.Background
    self.MainFrame.BackgroundTransparency = 0.2
    self.MainFrame.BorderSizePixel = 0
    self.MainFrame.ClipsDescendants = true
    self.MainFrame.Parent = self.ScreenGui
    
    local MainCorner = Instance.new("UICorner")
    MainCorner.CornerRadius = UDim.new(0, self.Config.Sizes.MainCorner)
    MainCorner.Parent = self.MainFrame
    
    local MainStroke = Instance.new("UIStroke")
    MainStroke.Color = self.Config.Colors.Accent
    MainStroke.Transparency = 0.5
    MainStroke.Thickness = self.Config.Sizes.MainStroke
    MainStroke.Parent = self.MainFrame
    
    -- Drop shadow effect
    local Shadow = Instance.new("ImageLabel")
    Shadow.Name = "Shadow"
    Shadow.Size = UDim2.new(1, 40, 1, 40)
    Shadow.Position = UDim2.new(0, -20, 0, -20)
    Shadow.BackgroundTransparency = 1
    Shadow.Image = "rbxassetid://5554236805"
    Shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
    Shadow.ImageTransparency = 0.7
    Shadow.ScaleType = Enum.ScaleType.Slice
    Shadow.SliceCenter = Rect.new(23, 23, 277, 277)
    Shadow.ZIndex = -1
    Shadow.Parent = self.MainFrame
    
    -- Prism Background
    CreatePrismBackground(self.MainFrame, self.Config)
    
    -- Top Bar
    self.TopBar = CreateGlassPanel(
        self.MainFrame,
        UDim2.new(1, 0, 0, self.Config.Sizes.TopBarHeight),
        UDim2.new(0, 0, 0, 0),
        10,
        self.Config
    )
    
    -- Title with gradient
    local Title = Instance.new("TextLabel")
    Title.Name = "Title"
    Title.Size = UDim2.new(1, -120, 1, 0)
    Title.Position = UDim2.new(0, 15, 0, 0)
    Title.BackgroundTransparency = 1
    Title.Text = self.HubName
    Title.TextColor3 = self.Config.Colors.Text
    Title.TextSize = 20
    Title.Font = Enum.Font.GothamBold
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.ZIndex = 11
    Title.Parent = self.TopBar
    
    CreateGradient(Title, ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(150, 150, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(200, 150, 255))
    }, 0)
    
    -- Close Button
    local CloseButton = self:CreateIconButton(self.TopBar, Icons.X, UDim2.new(0, 35, 0, 35), UDim2.new(1, -42, 0, 5))
    CloseButton.MouseButton1Click:Connect(function()
        self:Destroy()
    end)
    
    -- Minimize Button
    local MinimizeButton = self:CreateIconButton(self.TopBar, Icons.Minus, UDim2.new(0, 35, 0, 35), UDim2.new(1, -82, 0, 5))
    MinimizeButton.MouseButton1Click:Connect(function()
        self:ToggleMinimize()
    end)
    
    -- Sidebar
    self.Sidebar = CreateGlassPanel(
        self.MainFrame,
        UDim2.new(0, self.Config.Sizes.SidebarWidth, 1, -(self.Config.Sizes.TopBarHeight + 5)),
        UDim2.new(0, 5, 0, self.Config.Sizes.TopBarHeight + 5),
        10,
        self.Config
    )
    
    -- Content Frame
    self.ContentFrame = Instance.new("Frame")
    self.ContentFrame.Name = "ContentFrame"
    self.ContentFrame.Size = UDim2.new(
        1,
        -(self.Config.Sizes.SidebarWidth + 15),
        1,
        -(self.Config.Sizes.TopBarHeight + 10)
    )
    self.ContentFrame.Position = UDim2.new(0, self.Config.Sizes.SidebarWidth + 10, 0, self.Config.Sizes.TopBarHeight + 5)
    self.ContentFrame.BackgroundTransparency = 1
    self.ContentFrame.BorderSizePixel = 0
    self.ContentFrame.ClipsDescendants = true
    self.ContentFrame.ZIndex = 10
    self.ContentFrame.Parent = self.MainFrame
    
    -- Home Container
    self.HomeContainer = Instance.new("Frame")
    self.HomeContainer.Name = "HomeContainer"
    self.HomeContainer.Size = UDim2.new(1, 0, 1, 0)
    self.HomeContainer.Position = UDim2.new(0, 0, 0, 0)
    self.HomeContainer.BackgroundTransparency = 1
    self.HomeContainer.Visible = true
    self.HomeContainer.ZIndex = 11
    self.HomeContainer.Parent = self.ContentFrame
    
    -- Tab Bar
    self.TabBar = CreateGlassPanel(
        self.HomeContainer,
        UDim2.new(1, -20, 0, self.Config.Sizes.TopBarHeight),
        UDim2.new(0, 10, 0, 10),
        12,
        self.Config
    )
    
    local TabLayout = Instance.new("UIListLayout")
    TabLayout.FillDirection = Enum.FillDirection.Horizontal
    TabLayout.Padding = UDim.new(0, 8)
    TabLayout.SortOrder = Enum.SortOrder.LayoutOrder
    TabLayout.Parent = self.TabBar
    
    local TabPadding = Instance.new("UIPadding")
    TabPadding.PaddingLeft = UDim.new(0, self.Config.Sizes.TabBarPadding)
    TabPadding.PaddingTop = UDim.new(0, self.Config.Sizes.TabBarPadding)
    TabPadding.Parent = self.TabBar
    
    -- Tab Content Container
    self.TabContent = CreateGlassPanel(
        self.HomeContainer,
        UDim2.new(1, -20, 1, -(self.Config.Sizes.TopBarHeight + 15)),
        UDim2.new(0, 10, 0, self.Config.Sizes.TopBarHeight + 15),
        12,
        self.Config
    )
    self.TabContent.ClipsDescendants = true
    
    -- Info Container
    self.InfoContainer = self:CreateInfoPage()
    
    -- Settings Container
    self.SettingsContainer = self:CreateSettingsPage()
    
    -- Create Sidebar Navigation
    self:CreateSidebarButtons()
    
    -- Make Draggable
    self:MakeDraggable(self.MainFrame, self.TopBar)
    
    -- Fade in animation
    self:FadeIn()
    
    return self
end

-- Create Icon Button
function PrismHub:CreateIconButton(parent, icon, size, position)
    local Button = Instance.new("TextButton")
    Button.Size = size
    Button.Position = position
    Button.BackgroundColor3 = self.Config.Colors.Element
    Button.BackgroundTransparency = 0.3
    Button.Text = icon
    Button.TextColor3 = self.Config.Colors.Text
    Button.TextSize = 18
    Button.Font = Enum.Font.GothamBold
    Button.ZIndex = 11
    Button.Parent = parent
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, self.Config.Sizes.SmallCorner)
    Corner.Parent = Button
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = self.Config.Colors.Stroke
    Stroke.Transparency = 0.7
    Stroke.Thickness = self.Config.Sizes.ElementStroke
    Stroke.Parent = Button
    
    Button.MouseEnter:Connect(function()
        TweenColor(Button, "BackgroundColor3", self.Config.Colors.Accent, self.Config.HoverAnimationSpeed)
        TweenService:Create(Button, TweenInfo.new(self.Config.HoverAnimationSpeed, Enum.EasingStyle.Quart), {BackgroundTransparency = 0.1}):Play()
    end)
    
    Button.MouseLeave:Connect(function()
        TweenColor(Button, "BackgroundColor3", self.Config.Colors.Element, self.Config.HoverAnimationSpeed)
        TweenService:Create(Button, TweenInfo.new(self.Config.HoverAnimationSpeed, Enum.EasingStyle.Quart), {BackgroundTransparency = 0.3}):Play()
    end)
    
    Button.MouseButton1Down:Connect(function()
        TweenSize(Button, UDim2.new(size.X.Scale, size.X.Offset - 4, size.Y.Scale, size.Y.Offset - 4), 0.1, Enum.EasingStyle.Quad)
    end)
    
    Button.MouseButton1Up:Connect(function()
        TweenSize(Button, size, 0.1, Enum.EasingStyle.Quad)
    end)
    
    return Button
end

-- Create Sidebar Buttons
function PrismHub:CreateSidebarButtons()
    local buttons = {
        {Name = "Home", Icon = Icons.Home, Page = "Home"},
        {Name = "Info", Icon = Icons.Info, Page = "Info"},
        {Name = "Settings", Icon = Icons.Settings, Page = "Settings"}
    }
    
    local buttonSize = self.Config.Sizes.SidebarButtonSize
    local spacing = self.Config.Sizes.SidebarButtonSpacing
    local totalHeight = #buttons * buttonSize + (#buttons - 1) * spacing
    local startY = (self.Sidebar.AbsoluteSize.Y - totalHeight) / 2
    
    for i, data in ipairs(buttons) do
        local Button = Instance.new("TextButton")
        Button.Name = data.Name
        Button.Size = UDim2.new(0, buttonSize, 0, buttonSize)
        Button.Position = UDim2.new(0, 5, 0, startY + (i-1) * (buttonSize + spacing))
        Button.BackgroundColor3 = self.Config.Colors.Element
        Button.BackgroundTransparency = 0.4
        Button.Text = data.Icon
        Button.TextColor3 = self.Config.Colors.Text
        Button.TextSize = 28
        Button.Font = Enum.Font.GothamBold
        Button.ZIndex = 11
        Button.Parent = self.Sidebar
        
        local Corner = Instance.new("UICorner")
        Corner.CornerRadius = UDim.new(0, self.Config.Sizes.PanelCorner)
        Corner.Parent = Button
        
        local Stroke = Instance.new("UIStroke")
        Stroke.Color = self.Config.Colors.Stroke
        Stroke.Transparency = 0.7
        Stroke.Thickness = self.Config.Sizes.PanelStroke
        Stroke.Parent = Button
        
        Button.MouseEnter:Connect(function()
            if self.CurrentPage ~= data.Page then
                TweenColor(Button, "BackgroundColor3", self.Config.Colors.ElementHover, self.Config.AnimationSpeed)
                TweenService:Create(Button, TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart), {
                    BackgroundTransparency = 0.2
                }):Play()
            end
        end)
        
        Button.MouseLeave:Connect(function()
            if self.CurrentPage ~= data.Page then
                TweenColor(Button, "BackgroundColor3", self.Config.Colors.Element, self.Config.AnimationSpeed)
                TweenService:Create(Button, TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart), {
                    BackgroundTransparency = 0.4
                }):Play()
            end
        end)
        
        Button.MouseButton1Click:Connect(function()
            if self.switchingPage then return end
            
            local original = Button.Size
            TweenSize(Button, UDim2.new(0, buttonSize - 5, 0, buttonSize - 5), 0.1, Enum.EasingStyle.Quad)
            task.wait(0.1)
            TweenSize(Button, original, 0.2, Enum.EasingStyle.Elastic)
            self:SwitchPage(data.Page)
        end)
        
        if data.Page == self.CurrentPage then
            Button.BackgroundColor3 = self.Config.Colors.Accent
            Button.BackgroundTransparency = 0.2
        end
    end
end

-- Switch Pages
function PrismHub:SwitchPage(pageName)
    if self.CurrentPage == pageName or self.switchingPage then return end
    
    self.switchingPage = true
    
    local containers = {
        Home = self.HomeContainer,
        Info = self.InfoContainer,
        Settings = self.SettingsContainer
    }
    
    local currentContainer = containers[self.CurrentPage]
    local newContainer = containers[pageName]
    
    if not currentContainer or not newContainer then 
        self.switchingPage = false
        return 
    end
    
    local currentOrder = self.PageOrder[self.CurrentPage] or 1
    local newOrder = self.PageOrder[pageName] or 1
    local direction = newOrder > currentOrder and 1 or -1
    
    newContainer.Visible = true
    newContainer.Position = UDim2.new(0, 0, direction, 0)
    
    local tweenInfo = TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart, Enum.EasingDirection.Out)
    
    TweenService:Create(currentContainer, tweenInfo, {
        Position = UDim2.new(0, 0, -direction, 0)
    }):Play()
    
    TweenService:Create(newContainer, tweenInfo, {
        Position = UDim2.new(0, 0, 0, 0)
    }):Play()
    
    task.wait(self.Config.AnimationSpeed)
    currentContainer.Visible = false
    currentContainer.Position = UDim2.new(0, 0, 0, 0)
    
    self.CurrentPage = pageName
    self:UpdateSidebarButtons()
    
    self.switchingPage = false
end

-- Update Sidebar Buttons
function PrismHub:UpdateSidebarButtons()
    for _, button in pairs(self.Sidebar:GetChildren()) do
        if button:IsA("TextButton") then
            local isActive = (button.Name == "Home" and self.CurrentPage == "Home") or
                           (button.Name == "Info" and self.CurrentPage == "Info") or
                           (button.Name == "Settings" and self.CurrentPage == "Settings")
            
            TweenColor(button, "BackgroundColor3", 
                isActive and self.Config.Colors.Accent or self.Config.Colors.Element, self.Config.AnimationSpeed)
            TweenService:Create(button, TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart), {
                BackgroundTransparency = isActive and 0.2 or 0.4
            }):Play()
        end
    end
end

-- Create Info Page
function PrismHub:CreateInfoPage()
    local InfoContainer = Instance.new("Frame")
    InfoContainer.Name = "InfoContainer"
    InfoContainer.Size = UDim2.new(1, 0, 1, 0)
    InfoContainer.Position = UDim2.new(0, 0, 0, 0)
    InfoContainer.BackgroundTransparency = 1
    InfoContainer.Visible = false
    InfoContainer.ZIndex = 11
    InfoContainer.Parent = self.ContentFrame
    
    local InfoBox = CreateGlassPanel(
        InfoContainer,
        UDim2.new(1, -20, 1, -20),
        UDim2.new(0, 10, 0, 10),
        12,
        self.Config
    )
    
    local InfoTitle = Instance.new("TextLabel")
    InfoTitle.Size = UDim2.new(1, -20, 0, 40)
    InfoTitle.Position = UDim2.new(0, 15, 0, 15)
    InfoTitle.BackgroundTransparency = 1
    InfoTitle.Text = "Information & Credits"
    InfoTitle.TextColor3 = self.Config.Colors.Text
    InfoTitle.TextSize = 22
    InfoTitle.Font = Enum.Font.GothamBold
    InfoTitle.TextXAlignment = Enum.TextXAlignment.Left
    InfoTitle.ZIndex = 13
    InfoTitle.Parent = InfoBox
    
    self.InfoLabel = Instance.new("TextLabel")
    self.InfoLabel.Size = UDim2.new(1, -30, 1, -70)
    self.InfoLabel.Position = UDim2.new(0, 15, 0, 60)
    self.InfoLabel.BackgroundTransparency = 1
    self.InfoLabel.Text = "Created with Prism Hub\n\nAdd your credits here!"
    self.InfoLabel.TextColor3 = self.Config.Colors.TextSecondary
    self.InfoLabel.TextSize = 16
    self.InfoLabel.Font = Enum.Font.Gotham
    self.InfoLabel.TextXAlignment = Enum.TextXAlignment.Left
    self.InfoLabel.TextYAlignment = Enum.TextYAlignment.Top
    self.InfoLabel.TextWrapped = true
    self.InfoLabel.ZIndex = 13
    self.InfoLabel.Parent = InfoBox
    
    return InfoContainer
end

-- Create Settings Page
function PrismHub:CreateSettingsPage()
    local SettingsContainer = Instance.new("Frame")
    SettingsContainer.Name = "SettingsContainer"
    SettingsContainer.Size = UDim2.new(1, 0, 1, 0)
    SettingsContainer.Position = UDim2.new(0, 0, 0, 0)
    SettingsContainer.BackgroundTransparency = 1
    SettingsContainer.Visible = false
    SettingsContainer.ZIndex = 11
    SettingsContainer.Parent = self.ContentFrame
    
    local SettingsBox = CreateGlassPanel(
        SettingsContainer,
        UDim2.new(1, -20, 1, -20),
        UDim2.new(0, 10, 0, 10),
        12,
        self.Config
    )
    
    local SettingsTitle = Instance.new("TextLabel")
    SettingsTitle.Size = UDim2.new(1, -20, 0, 40)
    SettingsTitle.Position = UDim2.new(0, 15, 0, 15)
    SettingsTitle.BackgroundTransparency = 1
    SettingsTitle.Text = "Hub Configuration"
    SettingsTitle.TextColor3 = self.Config.Colors.Text
    SettingsTitle.TextSize = 22
    SettingsTitle.Font = Enum.Font.GothamBold
    SettingsTitle.TextXAlignment = Enum.TextXAlignment.Left
    SettingsTitle.ZIndex = 13
    SettingsTitle.Parent = SettingsBox
    
    self.SettingsContent = Instance.new("ScrollingFrame")
    self.SettingsContent.Size = UDim2.new(1, -30, 1, -70)
    self.SettingsContent.Position = UDim2.new(0, 15, 0, 60)
    self.SettingsContent.BackgroundTransparency = 1
    self.SettingsContent.BorderSizePixel = 0
    self.SettingsContent.ScrollBarThickness = 6
    self.SettingsContent.ScrollBarImageColor3 = self.Config.Colors.Accent
    self.SettingsContent.ZIndex = 13
    self.SettingsContent.Parent = SettingsBox
    
    local SettingsLayout = Instance.new("UIListLayout")
    SettingsLayout.Padding = UDim.new(0, self.Config.Sizes.ElementSpacing)
    SettingsLayout.SortOrder = Enum.SortOrder.LayoutOrder
    SettingsLayout.Parent = self.SettingsContent
    
    SettingsLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        self.SettingsContent.CanvasSize = UDim2.new(0, 0, 0, SettingsLayout.AbsoluteContentSize.Y + 15)
    end)
    
    -- Add Config Settings
    self:AddConfigSettings()
    
    return SettingsContainer
end

-- Add Config Settings
function PrismHub:AddConfigSettings()
    -- Background Animation Toggle
    self:CreateConfigToggle("Background Animation", self.Config.BackgroundAnimation, function(value)
        self.Config.BackgroundAnimation = value
        self:Notify("Settings", "Background animation " .. (value and "enabled" or "disabled") .. ". Restart hub to apply.", 3)
    end)
    
    -- Blur Toggle
    self:CreateConfigToggle("Blur Effect", self.Config.BlurEnabled, function(value)
        self.Config.BlurEnabled = value
        if value then
            TweenService:Create(self.Blur, TweenInfo.new(self.Config.BlurTweenDuration, Enum.EasingStyle.Quart), {
                Size = self.Config.BlurIntensity
            }):Play()
        else
            TweenService:Create(self.Blur, TweenInfo.new(self.Config.BlurTweenDuration, Enum.EasingStyle.Quart), {
                Size = 0
            }):Play()
        end
    end)
    
    -- Blur Intensity Slider
    self:CreateConfigSlider("Blur Intensity", 0, 20, self.Config.BlurIntensity, function(value)
        self.Config.BlurIntensity = value
        if self.Config.BlurEnabled and not self.Minimized then
            TweenService:Create(self.Blur, TweenInfo.new(0.2, Enum.EasingStyle.Quart), {
                Size = value
            }):Play()
        end
    end)
    
    -- Animation Speed Slider
    self:CreateConfigSlider("Animation Speed", 0.1, 1, self.Config.AnimationSpeed * 10, function(value)
        self.Config.AnimationSpeed = value / 10
    end, 10)
    
    -- UI Scale Slider
    self:CreateConfigSlider("UI Scale (%)", 50, 150, 100, function(value)
        local scale = value / 100
        local newSize = UDim2.new(0, 800 * scale, 0, 550 * scale)
        self.Size = newSize
        TweenSize(self.MainFrame, newSize, 0.3, Enum.EasingStyle.Quart)
        TweenPosition(self.MainFrame, UDim2.new(0.5, -newSize.X.Offset/2, 0.5, -newSize.Y.Offset/2), 0.3, Enum.EasingStyle.Quart)
    end)
    
    -- Reset Button
    self:CreateConfigButton("Reset to Defaults", function()
        self.Config = DeepCopy(DefaultConfig)
        self:Notify("Settings", "Configuration reset to defaults. Restart hub for full effect.", 3)
        -- Refresh settings page
        for _, child in ipairs(self.SettingsContent:GetChildren()) do
            if child:IsA("Frame") then
                child:Destroy()
            end
        end
        self:AddConfigSettings()
    end)
end

-- Create Config Toggle
function PrismHub:CreateConfigToggle(text, default, callback)
    local toggled = default
    
    local Frame = Instance.new("Frame")
    Frame.Name = text
    Frame.Size = UDim2.new(1, 0, 0, self.Config.Sizes.ToggleHeight)
    Frame.BackgroundColor3 = self.Config.Colors.Element
    Frame.BackgroundTransparency = 0.3
    Frame.ZIndex = 14
    Frame.Parent = self.SettingsContent
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, self.Config.Sizes.ButtonCorner)
    Corner.Parent = Frame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = self.Config.Colors.Stroke
    Stroke.Transparency = 0.7
    Stroke.Thickness = self.Config.Sizes.ElementStroke
    Stroke.Parent = Frame
    
    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(1, -70, 1, 0)
    Label.Position = UDim2.new(0, 15, 0, 0)
    Label.BackgroundTransparency = 1
    Label.Text = text
    Label.TextColor3 = self.Config.Colors.Text
    Label.TextSize = 15
    Label.Font = Enum.Font.GothamSemibold
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.ZIndex = 15
    Label.Parent = Frame
    
    local Toggle = Instance.new("TextButton")
    Toggle.Size = UDim2.new(0, self.Config.Sizes.ToggleWidth, 0, 26)
    Toggle.Position = UDim2.new(1, -self.Config.Sizes.ToggleWidth - 10, 0.5, -13)
    Toggle.BackgroundColor3 = toggled and self.Config.Colors.Accent or Color3.fromRGB(60, 60, 75)
    Toggle.BackgroundTransparency = 0.2
    Toggle.Text = ""
    Toggle.ZIndex = 15
    Toggle.Parent = Frame
    
    local ToggleCorner = Instance.new("UICorner")
    ToggleCorner.CornerRadius = UDim.new(1, 0)
    ToggleCorner.Parent = Toggle
    
    local Circle = Instance.new("Frame")
    Circle.Size = UDim2.new(0, self.Config.Sizes.ToggleCircleSize, 0, self.Config.Sizes.ToggleCircleSize)
    Circle.Position = toggled and UDim2.new(1, -(self.Config.Sizes.ToggleCircleSize + 3), 0.5, -self.Config.Sizes.ToggleCircleSize/2) or UDim2.new(0, 3, 0.5, -self.Config.Sizes.ToggleCircleSize/2)
    Circle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Circle.ZIndex = 16
    Circle.Parent = Toggle
    
    local CircleCorner = Instance.new("UICorner")
    CircleCorner.CornerRadius = UDim.new(1, 0)
    CircleCorner.Parent = Circle
    
    Toggle.MouseButton1Click:Connect(function()
        toggled = not toggled
        
        TweenService:Create(Toggle, TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart), {
            BackgroundColor3 = toggled and self.Config.Colors.Accent or Color3.fromRGB(60, 60, 75)
        }):Play()
        
        TweenService:Create(Circle, TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart), {
            Position = toggled and UDim2.new(1, -(self.Config.Sizes.ToggleCircleSize + 3), 0.5, -self.Config.Sizes.ToggleCircleSize/2) or UDim2.new(0, 3, 0.5, -self.Config.Sizes.ToggleCircleSize/2)
        }):Play()
        
        pcall(callback, toggled)
    end)
    
    return Frame
end

-- Create Config Slider
function PrismHub:CreateConfigSlider(text, min, max, default, callback, multiplier)
    multiplier = multiplier or 1
    local value = default
    
    local Frame = Instance.new("Frame")
    Frame.Name = text
    Frame.Size = UDim2.new(1, 0, 0, self.Config.Sizes.SliderHeight)
    Frame.BackgroundColor3 = self.Config.Colors.Element
    Frame.BackgroundTransparency = 0.3
    Frame.ZIndex = 14
    Frame.Parent = self.SettingsContent
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, self.Config.Sizes.ButtonCorner)
    Corner.Parent = Frame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = self.Config.Colors.Stroke
    Stroke.Transparency = 0.7
    Stroke.Thickness = self.Config.Sizes.ElementStroke
    Stroke.Parent = Frame
    
    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(1, -80, 0, 25)
    Label.Position = UDim2.new(0, 15, 0, 8)
    Label.BackgroundTransparency = 1
    Label.Text = text
    Label.TextColor3 = self.Config.Colors.Text
    Label.TextSize = 15
    Label.Font = Enum.Font.GothamSemibold
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.ZIndex = 15
    Label.Parent = Frame
    
    local ValueLabel = Instance.new("TextLabel")
    ValueLabel.Size = UDim2.new(0, 65, 0, 25)
    ValueLabel.Position = UDim2.new(1, -75, 0, 8)
    ValueLabel.BackgroundTransparency = 1
    ValueLabel.Text = tostring(math.floor(value))
    ValueLabel.TextColor3 = self.Config.Colors.AccentHover
    ValueLabel.TextSize = 16
    ValueLabel.Font = Enum.Font.GothamBold
    ValueLabel.TextXAlignment = Enum.TextXAlignment.Right
    ValueLabel.ZIndex = 15
    ValueLabel.Parent = Frame
    
    local SliderBack = Instance.new("Frame")
    SliderBack.Size = UDim2.new(1, -30, 0, self.Config.Sizes.SliderBarHeight)
    SliderBack.Position = UDim2.new(0, 15, 1, -20)
    SliderBack.BackgroundColor3 = Color3.fromRGB(60, 60, 75)
    SliderBack.BackgroundTransparency = 0.3
    SliderBack.BorderSizePixel = 0
    SliderBack.ZIndex = 15
    SliderBack.Parent = Frame
    
    local SliderBackCorner = Instance.new("UICorner")
    SliderBackCorner.CornerRadius = UDim.new(1, 0)
    SliderBackCorner.Parent = SliderBack
    
    local SliderFill = Instance.new("Frame")
    SliderFill.Size = UDim2.new((value - min) / (max - min), 0, 1, 0)
    SliderFill.BackgroundColor3 = self.Config.Colors.Accent
    SliderFill.BackgroundTransparency = 0.2
    SliderFill.BorderSizePixel = 0
    SliderFill.ZIndex = 16
    SliderFill.Parent = SliderBack
    
    local SliderFillCorner = Instance.new("UICorner")
    SliderFillCorner.CornerRadius = UDim.new(1, 0)
    SliderFillCorner.Parent = SliderFill
    
    local dragging = false
    
    local function updateSlider(input)
        local pos = math.clamp((input.Position.X - SliderBack.AbsolutePosition.X) / SliderBack.AbsoluteSize.X, 0, 1)
        value = math.floor(min + (max - min) * pos)
        
        ValueLabel.Text = tostring(math.floor(value))
        TweenSize(SliderFill, UDim2.new(pos, 0, 1, 0), 0.15, Enum.EasingStyle.Quart)
        
        pcall(callback, value)
    end
    
    SliderBack.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            updateSlider(input)
        end
    end)
    
    SliderBack.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            updateSlider(input)
        end
    end)
    
    return Frame
end

-- Create Config Button
function PrismHub:CreateConfigButton(text, callback)
    local Button = Instance.new("TextButton")
    Button.Name = text
    Button.Size = UDim2.new(1, 0, 0, self.Config.Sizes.ButtonHeight)
    Button.BackgroundColor3 = self.Config.Colors.Element
    Button.BackgroundTransparency = 0.3
    Button.Text = text
    Button.TextColor3 = self.Config.Colors.Text
    Button.TextSize = 15
    Button.Font = Enum.Font.GothamSemibold
    Button.ZIndex = 14
    Button.Parent = self.SettingsContent
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, self.Config.Sizes.ButtonCorner)
    Corner.Parent = Button
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = self.Config.Colors.Stroke
    Stroke.Transparency = 0.7
    Stroke.Thickness = self.Config.Sizes.ElementStroke
    Stroke.Parent = Button
    
    Button.MouseEnter:Connect(function()
        TweenColor(Button, "BackgroundColor3", self.Config.Colors.Accent, self.Config.HoverAnimationSpeed)
        TweenService:Create(Button, TweenInfo.new(self.Config.HoverAnimationSpeed, Enum.EasingStyle.Quart), {
            BackgroundTransparency = 0.1
        }):Play()
    end)
    
    Button.MouseLeave:Connect(function()
        TweenColor(Button, "BackgroundColor3", self.Config.Colors.Element, self.Config.HoverAnimationSpeed)
        TweenService:Create(Button, TweenInfo.new(self.Config.HoverAnimationSpeed, Enum.EasingStyle.Quart), {
            BackgroundTransparency = 0.3
        }):Play()
    end)
    
    Button.MouseButton1Click:Connect(function()
        TweenSize(Button, UDim2.new(1, -6, 0, self.Config.Sizes.ButtonHeight - 3), 0.1, Enum.EasingStyle.Quad)
        task.wait(0.1)
        TweenSize(Button, UDim2.new(1, 0, 0, self.Config.Sizes.ButtonHeight), 0.15, Enum.EasingStyle.Elastic)
        pcall(callback)
    end)
    
    return Button
end

-- Create Tab
function PrismHub:CreateTab(tabName)
    local Tab = {
        Name = tabName,
        Elements = {},
        Container = nil,
        Button = nil,
        Hub = self,
        Order = #self.Tabs + 1
    }
    
    -- Tab Button
    local TabButton = Instance.new("TextButton")
    TabButton.Name = tabName
    TabButton.Size = UDim2.new(0, self.Config.Sizes.TabButtonWidth, 1, -16)
    TabButton.BackgroundColor3 = self.Config.Colors.Element
    TabButton.BackgroundTransparency = 0.4
    TabButton.Text = tabName
    TabButton.TextColor3 = self.Config.Colors.Text
    TabButton.TextSize = 15
    TabButton.Font = Enum.Font.GothamBold
    TabButton.ZIndex = 13
    TabButton.LayoutOrder = Tab.Order
    TabButton.Parent = self.TabBar
    
    local TabCorner = Instance.new("UICorner")
    TabCorner.CornerRadius = UDim.new(0, self.Config.Sizes.SmallCorner)
    TabCorner.Parent = TabButton
    
    local TabStroke = Instance.new("UIStroke")
    TabStroke.Color = self.Config.Colors.Stroke
    TabStroke.Transparency = 0.7
    TabStroke.Thickness = self.Config.Sizes.ElementStroke
    TabStroke.Parent = TabButton
    
    TabButton.MouseEnter:Connect(function()
        if self.CurrentTab ~= Tab then
            TweenColor(TabButton, "BackgroundColor3", self.Config.Colors.ElementHover, self.Config.AnimationSpeed)
            TweenService:Create(TabButton, TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart), {
                BackgroundTransparency = 0.2
            }):Play()
        end
    end)
    
    TabButton.MouseLeave:Connect(function()
        if self.CurrentTab ~= Tab then
            TweenColor(TabButton, "BackgroundColor3", self.Config.Colors.Element, self.Config.AnimationSpeed)
            TweenService:Create(TabButton, TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart), {
                BackgroundTransparency = 0.4
            }):Play()
        end
    end)
    
    -- Tab Container
    local Container = Instance.new("ScrollingFrame")
    Container.Name = tabName .. "Container"
    Container.Size = UDim2.new(1, -30, 1, -30)
    Container.Position = UDim2.new(0, 15, 0, 15)
    Container.BackgroundTransparency = 1
    Container.BorderSizePixel = 0
    Container.ScrollBarThickness = 6
    Container.ScrollBarImageColor3 = self.Config.Colors.Accent
    Container.Visible = false
    Container.ClipsDescendants = false
    Container.ZIndex = 13
    Container.Parent = self.TabContent
    
    local Layout = Instance.new("UIListLayout")
    Layout.Padding = UDim.new(0, self.Config.Sizes.ElementSpacing)
    Layout.SortOrder = Enum.SortOrder.LayoutOrder
    Layout.Parent = Container
    
    Tab.Container = Container
    Tab.Button = TabButton
    
    table.insert(self.Tabs, Tab)
    
    TabButton.MouseButton1Click:Connect(function()
        if self.switchingTab then return end
        
        TweenSize(TabButton, UDim2.new(0, self.Config.Sizes.TabButtonWidth - 5, 1, -18), 0.1, Enum.EasingStyle.Quad)
        task.wait(0.1)
        TweenSize(TabButton, UDim2.new(0, self.Config.Sizes.TabButtonWidth, 1, -16), 0.2, Enum.EasingStyle.Elastic)
        self:SwitchTab(Tab)
    end)
    
    if #self.Tabs == 1 then
        self:SwitchTab(Tab)
    end
    
    Layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        Container.CanvasSize = UDim2.new(0, 0, 0, Layout.AbsoluteContentSize.Y + 15)
    end)
    
    return setmetatable(Tab, {__index = self})
end

-- Switch Tab
function PrismHub:SwitchTab(tab)
    if self.CurrentTab == tab or self.switchingTab then return end
    
    self.switchingTab = true
    
    local currentTab = self.CurrentTab
    
    if currentTab then
        local direction = tab.Order > currentTab.Order and 1 or -1
        
        tab.Container.Visible = true
        tab.Container.Position = UDim2.new(direction, 15, 0, 15)
        
        local tweenInfo = TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart, Enum.EasingDirection.Out)
        
        TweenService:Create(currentTab.Container, tweenInfo, {
            Position = UDim2.new(-direction, 15, 0, 15)
        }):Play()
        
        TweenService:Create(tab.Container, tweenInfo, {
            Position = UDim2.new(0, 15, 0, 15)
        }):Play()
        
        task.wait(self.Config.AnimationSpeed)
        currentTab.Container.Visible = false
        currentTab.Container.Position = UDim2.new(0, 15, 0, 15)
        
        TweenColor(currentTab.Button, "BackgroundColor3", self.Config.Colors.Element, self.Config.AnimationSpeed)
        TweenService:Create(currentTab.Button, TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart), {
            BackgroundTransparency = 0.4
        }):Play()
    else
        tab.Container.Visible = true
        tab.Container.Position = UDim2.new(0, 15, 0, 15)
    end
    
    self.CurrentTab = tab
    
    TweenColor(tab.Button, "BackgroundColor3", self.Config.Colors.Accent, self.Config.AnimationSpeed)
    TweenService:Create(tab.Button, TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart), {
        BackgroundTransparency = 0.2
    }):Play()
    
    self.switchingTab = false
end

-- Add Button
function PrismHub:AddButton(text, callback)
    local Button = Instance.new("TextButton")
    Button.Name = text
    Button.Size = UDim2.new(1, 0, 0, self.Hub.Config.Sizes.ButtonHeight)
    Button.BackgroundColor3 = self.Hub.Config.Colors.Element
    Button.BackgroundTransparency = 0.3
    Button.Text = text
    Button.TextColor3 = self.Hub.Config.Colors.Text
    Button.TextSize = 15
    Button.Font = Enum.Font.GothamSemibold
    Button.ZIndex = 14
    Button.Parent = self.Container
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, self.Hub.Config.Sizes.ButtonCorner)
    Corner.Parent = Button
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = self.Hub.Config.Colors.Stroke
    Stroke.Transparency = 0.7
    Stroke.Thickness = self.Hub.Config.Sizes.ElementStroke
    Stroke.Parent = Button
    
    Button.MouseEnter:Connect(function()
        TweenColor(Button, "BackgroundColor3", self.Hub.Config.Colors.Accent, self.Hub.Config.HoverAnimationSpeed)
        TweenService:Create(Button, TweenInfo.new(self.Hub.Config.HoverAnimationSpeed, Enum.EasingStyle.Quart), {
            BackgroundTransparency = 0.1
        }):Play()
    end)
    
    Button.MouseLeave:Connect(function()
        TweenColor(Button, "BackgroundColor3", self.Hub.Config.Colors.Element, self.Hub.Config.HoverAnimationSpeed)
        TweenService:Create(Button, TweenInfo.new(self.Hub.Config.HoverAnimationSpeed, Enum.EasingStyle.Quart), {
            BackgroundTransparency = 0.3
        }):Play()
    end)
    
    Button.MouseButton1Down:Connect(function()
        TweenSize(Button, UDim2.new(1, -6, 0, self.Hub.Config.Sizes.ButtonHeight - 3), 0.1, Enum.EasingStyle.Quad)
    end)
    
    Button.MouseButton1Up:Connect(function()
        TweenSize(Button, UDim2.new(1, 0, 0, self.Hub.Config.Sizes.ButtonHeight), 0.15, Enum.EasingStyle.Elastic)
    end)
    
    Button.MouseButton1Click:Connect(function()
        pcall(callback)
    end)
    
    return Button
end

-- Add Toggle
function PrismHub:AddToggle(text, default, callback)
    local toggled = default or false
    
    local Frame = Instance.new("Frame")
    Frame.Name = text
    Frame.Size = UDim2.new(1, 0, 0, self.Hub.Config.Sizes.ToggleHeight)
    Frame.BackgroundColor3 = self.Hub.Config.Colors.Element
    Frame.BackgroundTransparency = 0.3
    Frame.ZIndex = 14
    Frame.Parent = self.Container
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, self.Hub.Config.Sizes.ButtonCorner)
    Corner.Parent = Frame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = self.Hub.Config.Colors.Stroke
    Stroke.Transparency = 0.7
    Stroke.Thickness = self.Hub.Config.Sizes.ElementStroke
    Stroke.Parent = Frame
    
    Frame.MouseEnter:Connect(function()
        TweenColor(Frame, "BackgroundColor3", self.Hub.Config.Colors.ElementHover, self.Hub.Config.HoverAnimationSpeed)
        TweenService:Create(Frame, TweenInfo.new(self.Hub.Config.HoverAnimationSpeed, Enum.EasingStyle.Quart), {
            BackgroundTransparency = 0.2
        }):Play()
    end)
    
    Frame.MouseLeave:Connect(function()
        TweenColor(Frame, "BackgroundColor3", self.Hub.Config.Colors.Element, self.Hub.Config.HoverAnimationSpeed)
        TweenService:Create(Frame, TweenInfo.new(self.Hub.Config.HoverAnimationSpeed, Enum.EasingStyle.Quart), {
            BackgroundTransparency = 0.3
        }):Play()
    end)
    
    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(1, -70, 1, 0)
    Label.Position = UDim2.new(0, 15, 0, 0)
    Label.BackgroundTransparency = 1
    Label.Text = text
    Label.TextColor3 = self.Hub.Config.Colors.Text
    Label.TextSize = 15
    Label.Font = Enum.Font.GothamSemibold
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.ZIndex = 15
    Label.Parent = Frame
    
    local Toggle = Instance.new("TextButton")
    Toggle.Size = UDim2.new(0, self.Hub.Config.Sizes.ToggleWidth, 0, 26)
    Toggle.Position = UDim2.new(1, -(self.Hub.Config.Sizes.ToggleWidth + 10), 0.5, -13)
    Toggle.BackgroundColor3 = toggled and self.Hub.Config.Colors.Accent or Color3.fromRGB(60, 60, 75)
    Toggle.BackgroundTransparency = 0.2
    Toggle.Text = ""
    Toggle.ZIndex = 15
    Toggle.Parent = Frame
    
    local ToggleCorner = Instance.new("UICorner")
    ToggleCorner.CornerRadius = UDim.new(1, 0)
    ToggleCorner.Parent = Toggle
    
    local ToggleStroke = Instance.new("UIStroke")
    ToggleStroke.Color = toggled and self.Hub.Config.Colors.AccentHover or Color3.fromRGB(80, 80, 100)
    ToggleStroke.Transparency = 0.5
    ToggleStroke.Thickness = 1.5
    ToggleStroke.Parent = Toggle
    
    local Circle = Instance.new("Frame")
    Circle.Size = UDim2.new(0, self.Hub.Config.Sizes.ToggleCircleSize, 0, self.Hub.Config.Sizes.ToggleCircleSize)
    Circle.Position = toggled and UDim2.new(1, -(self.Hub.Config.Sizes.ToggleCircleSize + 3), 0.5, -self.Hub.Config.Sizes.ToggleCircleSize/2) or UDim2.new(0, 3, 0.5, -self.Hub.Config.Sizes.ToggleCircleSize/2)
    Circle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Circle.ZIndex = 16
    Circle.Parent = Toggle
    
    local CircleCorner = Instance.new("UICorner")
    CircleCorner.CornerRadius = UDim.new(1, 0)
    CircleCorner.Parent = Circle
    
    Toggle.MouseButton1Click:Connect(function()
        toggled = not toggled
        
        TweenService:Create(Toggle, TweenInfo.new(self.Hub.Config.AnimationSpeed, Enum.EasingStyle.Quart), {
            BackgroundColor3 = toggled and self.Hub.Config.Colors.Accent or Color3.fromRGB(60, 60, 75)
        }):Play()
        
        TweenService:Create(ToggleStroke, TweenInfo.new(self.Hub.Config.AnimationSpeed, Enum.EasingStyle.Quart), {
            Color = toggled and self.Hub.Config.Colors.AccentHover or Color3.fromRGB(80, 80, 100)
        }):Play()
        
        TweenService:Create(Circle, TweenInfo.new(self.Hub.Config.AnimationSpeed, Enum.EasingStyle.Quart), {
            Position = toggled and UDim2.new(1, -(self.Hub.Config.Sizes.ToggleCircleSize + 3), 0.5, -self.Hub.Config.Sizes.ToggleCircleSize/2) or UDim2.new(0, 3, 0.5, -self.Hub.Config.Sizes.ToggleCircleSize/2)
        }):Play()
        
        pcall(callback, toggled)
    end)
    
    return Frame
end

-- Add Slider
function PrismHub:AddSlider(text, min, max, default, callback)
    local value = default or min
    
    local Frame = Instance.new("Frame")
    Frame.Name = text
    Frame.Size = UDim2.new(1, 0, 0, self.Hub.Config.Sizes.SliderHeight)
    Frame.BackgroundColor3 = self.Hub.Config.Colors.Element
    Frame.BackgroundTransparency = 0.3
    Frame.ZIndex = 14
    Frame.Parent = self.Container
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, self.Hub.Config.Sizes.ButtonCorner)
    Corner.Parent = Frame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = self.Hub.Config.Colors.Stroke
    Stroke.Transparency = 0.7
    Stroke.Thickness = self.Hub.Config.Sizes.ElementStroke
    Stroke.Parent = Frame
    
    Frame.MouseEnter:Connect(function()
        TweenColor(Frame, "BackgroundColor3", self.Hub.Config.Colors.ElementHover, self.Hub.Config.HoverAnimationSpeed)
        TweenService:Create(Frame, TweenInfo.new(self.Hub.Config.HoverAnimationSpeed, Enum.EasingStyle.Quart), {
            BackgroundTransparency = 0.2
        }):Play()
    end)
    
    Frame.MouseLeave:Connect(function()
        TweenColor(Frame, "BackgroundColor3", self.Hub.Config.Colors.Element, self.Hub.Config.HoverAnimationSpeed)
        TweenService:Create(Frame, TweenInfo.new(self.Hub.Config.HoverAnimationSpeed, Enum.EasingStyle.Quart), {
            BackgroundTransparency = 0.3
        }):Play()
    end)
    
    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(1, -80, 0, 25)
    Label.Position = UDim2.new(0, 15, 0, 8)
    Label.BackgroundTransparency = 1
    Label.Text = text
    Label.TextColor3 = self.Hub.Config.Colors.Text
    Label.TextSize = 15
    Label.Font = Enum.Font.GothamSemibold
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.ZIndex = 15
    Label.Parent = Frame
    
    local ValueLabel = Instance.new("TextLabel")
    ValueLabel.Size = UDim2.new(0, 65, 0, 25)
    ValueLabel.Position = UDim2.new(1, -75, 0, 8)
    ValueLabel.BackgroundTransparency = 1
    ValueLabel.Text = tostring(value)
    ValueLabel.TextColor3 = self.Hub.Config.Colors.AccentHover
    ValueLabel.TextSize = 16
    ValueLabel.Font = Enum.Font.GothamBold
    ValueLabel.TextXAlignment = Enum.TextXAlignment.Right
    ValueLabel.ZIndex = 15
    ValueLabel.Parent = Frame
    
    local SliderBack = Instance.new("Frame")
    SliderBack.Size = UDim2.new(1, -30, 0, self.Hub.Config.Sizes.SliderBarHeight)
    SliderBack.Position = UDim2.new(0, 15, 1, -20)
    SliderBack.BackgroundColor3 = Color3.fromRGB(60, 60, 75)
    SliderBack.BackgroundTransparency = 0.3
    SliderBack.BorderSizePixel = 0
    SliderBack.ZIndex = 15
    SliderBack.Parent = Frame
    
    local SliderBackCorner = Instance.new("UICorner")
    SliderBackCorner.CornerRadius = UDim.new(1, 0)
    SliderBackCorner.Parent = SliderBack
    
    local SliderFill = Instance.new("Frame")
    SliderFill.Size = UDim2.new((value - min) / (max - min), 0, 1, 0)
    SliderFill.BackgroundColor3 = self.Hub.Config.Colors.Accent
    SliderFill.BackgroundTransparency = 0.2
    SliderFill.BorderSizePixel = 0
    SliderFill.ZIndex = 16
    SliderFill.Parent = SliderBack
    
    local SliderFillCorner = Instance.new("UICorner")
    SliderFillCorner.CornerRadius = UDim.new(1, 0)
    SliderFillCorner.Parent = SliderFill
    
    local SliderGradient = CreateGradient(SliderFill, ColorSequence.new{
        ColorSequenceKeypoint.new(0, self.Hub.Config.Colors.Accent),
        ColorSequenceKeypoint.new(1, self.Hub.Config.Colors.AccentHover)
    }, 90)
    
    local dragging = false
    
    local function updateSlider(input)
        local pos = math.clamp((input.Position.X - SliderBack.AbsolutePosition.X) / SliderBack.AbsoluteSize.X, 0, 1)
        value = math.floor(min + (max - min) * pos)
        
        ValueLabel.Text = tostring(value)
        TweenSize(SliderFill, UDim2.new(pos, 0, 1, 0), 0.15, Enum.EasingStyle.Quart)
        
        pcall(callback, value)
    end
    
    SliderBack.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            updateSlider(input)
        end
    end)
    
    SliderBack.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            updateSlider(input)
        end
    end)
    
    return Frame
end

-- Add Dropdown
function PrismHub:AddDropdown(text, options, callback)
    local selected = options[1] or "None"
    local opened = false
    
    local Frame = Instance.new("Frame")
    Frame.Name = text
    Frame.Size = UDim2.new(1, 0, 0, self.Hub.Config.Sizes.DropdownHeight)
    Frame.BackgroundColor3 = self.Hub.Config.Colors.Element
    Frame.BackgroundTransparency = 0.3
    Frame.ClipsDescendants = false
    Frame.ZIndex = 14
    Frame.Parent = self.Container
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, self.Hub.Config.Sizes.ButtonCorner)
    Corner.Parent = Frame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = self.Hub.Config.Colors.Stroke
    Stroke.Transparency = 0.7
    Stroke.Thickness = self.Hub.Config.Sizes.ElementStroke
    Stroke.Parent = Frame
    
    Frame.MouseEnter:Connect(function()
        if not opened then
            TweenColor(Frame, "BackgroundColor3", self.Hub.Config.Colors.ElementHover, self.Hub.Config.HoverAnimationSpeed)
        end
    end)
    
    Frame.MouseLeave:Connect(function()
        if not opened then
            TweenColor(Frame, "BackgroundColor3", self.Hub.Config.Colors.Element, self.Hub.Config.HoverAnimationSpeed)
        end
    end)
    
    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(0.5, -15, 1, 0)
    Label.Position = UDim2.new(0, 15, 0, 0)
    Label.BackgroundTransparency = 1
    Label.Text = text
    Label.TextColor3 = self.Hub.Config.Colors.Text
    Label.TextSize = 15
    Label.Font = Enum.Font.GothamSemibold
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.ZIndex = 15
    Label.Parent = Frame
    
    local DropButton = Instance.new("TextButton")
    DropButton.Size = UDim2.new(0.5, -20, 0, self.Hub.Config.Sizes.DropdownButtonHeight)
    DropButton.Position = UDim2.new(0.5, 10, 0, 6)
    DropButton.BackgroundColor3 = Color3.fromRGB(60, 60, 75)
    DropButton.BackgroundTransparency = 0.2
    DropButton.Text = selected .. " " .. Icons.ChevronDown
    DropButton.TextColor3 = self.Hub.Config.Colors.Text
    DropButton.TextSize = 14
    DropButton.Font = Enum.Font.Gotham
    DropButton.ZIndex = 15
    DropButton.Parent = Frame
    
    local DropCorner = Instance.new("UICorner")
    DropCorner.CornerRadius = UDim.new(0, self.Hub.Config.Sizes.SmallCorner)
    DropCorner.Parent = DropButton
    
    local DropStroke = Instance.new("UIStroke")
    DropStroke.Color = self.Hub.Config.Colors.Stroke
    DropStroke.Transparency = 0.6
    DropStroke.Thickness = 1
    DropStroke.Parent = DropButton
    
    DropButton.MouseEnter:Connect(function()
        TweenColor(DropButton, "BackgroundColor3", Color3.fromRGB(80, 80, 100), self.Hub.Config.HoverAnimationSpeed)
    end)
    
    DropButton.MouseLeave:Connect(function()
        TweenColor(DropButton, "BackgroundColor3", Color3.fromRGB(60, 60, 75), self.Hub.Config.HoverAnimationSpeed)
    end)
    
    -- Options List
    local OptionsList = Instance.new("Frame")
    OptionsList.Size = UDim2.new(0, 0, 0, 0)
    OptionsList.BackgroundColor3 = Color3.fromRGB(50, 50, 65)
    OptionsList.BackgroundTransparency = 0.1
    OptionsList.BorderSizePixel = 0
    OptionsList.Visible = false
    OptionsList.ZIndex = 150
    OptionsList.ClipsDescendants = true
    OptionsList.Parent = self.Hub.DropdownContainer
    
    local OptionsCorner = Instance.new("UICorner")
    OptionsCorner.CornerRadius = UDim.new(0, self.Hub.Config.Sizes.SmallCorner)
    OptionsCorner.Parent = OptionsList
    
    local OptionsStroke = Instance.new("UIStroke")
    OptionsStroke.Color = self.Hub.Config.Colors.Accent
    OptionsStroke.Transparency = 0.5
    OptionsStroke.Thickness = 1.5
    OptionsStroke.Parent = OptionsList
    
    local OptionsLayout = Instance.new("UIListLayout")
    OptionsLayout.Padding = UDim.new(0, 4)
    OptionsLayout.SortOrder = Enum.SortOrder.LayoutOrder
    OptionsLayout.Parent = OptionsList
    
    local OptionsPadding = Instance.new("UIPadding")
    OptionsPadding.PaddingTop = UDim.new(0, 6)
    OptionsPadding.PaddingBottom = UDim.new(0, 6)
    OptionsPadding.PaddingLeft = UDim.new(0, 6)
    OptionsPadding.PaddingRight = UDim.new(0, 6)
    OptionsPadding.Parent = OptionsList
    
    for _, option in ipairs(options) do
        local OptionButton = Instance.new("TextButton")
        OptionButton.Size = UDim2.new(1, -12, 0, self.Hub.Config.Sizes.DropdownOptionHeight)
        OptionButton.BackgroundColor3 = Color3.fromRGB(60, 60, 75)
        OptionButton.BackgroundTransparency = 0.3
        OptionButton.Text = option
        OptionButton.TextColor3 = self.Hub.Config.Colors.Text
        OptionButton.TextSize = 14
        OptionButton.Font = Enum.Font.Gotham
        OptionButton.ZIndex = 151
        OptionButton.Parent = OptionsList
        
        local OptCorner = Instance.new("UICorner")
        OptCorner.CornerRadius = UDim.new(0, 6)
        OptCorner.Parent = OptionButton
        
        OptionButton.MouseEnter:Connect(function()
            TweenColor(OptionButton, "BackgroundColor3", self.Hub.Config.Colors.Accent, self.Hub.Config.HoverAnimationSpeed)
            TweenService:Create(OptionButton, TweenInfo.new(self.Hub.Config.HoverAnimationSpeed, Enum.EasingStyle.Quart), {
                BackgroundTransparency = 0.1
            }):Play()
        end)
        
        OptionButton.MouseLeave:Connect(function()
            TweenColor(OptionButton, "BackgroundColor3", Color3.fromRGB(60, 60, 75), self.Hub.Config.HoverAnimationSpeed)
            TweenService:Create(OptionButton, TweenInfo.new(self.Hub.Config.HoverAnimationSpeed, Enum.EasingStyle.Quart), {
                BackgroundTransparency = 0.3
            }):Play()
        end)
        
        OptionButton.MouseButton1Click:Connect(function()
            selected = option
            DropButton.Text = selected .. " " .. Icons.ChevronDown
            
            opened = false
            TweenSize(OptionsList, UDim2.new(0, OptionsList.AbsoluteSize.X, 0, 0), 0.25, Enum.EasingStyle.Quart)
            task.wait(0.25)
            OptionsList.Visible = false
            
            pcall(callback, selected)
        end)
    end
    
    DropButton.MouseButton1Click:Connect(function()
        opened = not opened
        
        if opened then
            local absolutePos = DropButton.AbsolutePosition
            local absoluteSize = DropButton.AbsoluteSize
            
            OptionsList.Position = UDim2.new(0, absolutePos.X, 0, absolutePos.Y + absoluteSize.Y + 8)
            OptionsList.Size = UDim2.new(0, absoluteSize.X, 0, 0)
            OptionsList.Visible = true
            
            local targetHeight = math.min(#options * (self.Hub.Config.Sizes.DropdownOptionHeight + 4) + 16, 200)
            TweenSize(OptionsList, UDim2.new(0, absoluteSize.X, 0, targetHeight), self.Hub.Config.AnimationSpeed, Enum.EasingStyle.Quart)
        else
            TweenSize(OptionsList, UDim2.new(0, OptionsList.AbsoluteSize.X, 0, 0), 0.25, Enum.EasingStyle.Quart)
            task.wait(0.25)
            OptionsList.Visible = false
        end
    end)
    
    return Frame
end

-- Add Notification
function PrismHub:Notify(title, message, duration)
    duration = duration or 3
    
    local Notification = Instance.new("Frame")
    Notification.Size = UDim2.new(1, 0, 0, 0)
    Notification.BackgroundColor3 = Color3.fromRGB(40, 40, 55)
    Notification.BackgroundTransparency = 0.2
    Notification.BorderSizePixel = 0
    Notification.ZIndex = 201
    Notification.Parent = self.NotificationContainer
    
    local NotifCorner = Instance.new("UICorner")
    NotifCorner.CornerRadius = UDim.new(0, self.Config.Sizes.ButtonCorner)
    NotifCorner.Parent = Notification
    
    local NotifStroke = Instance.new("UIStroke")
    NotifStroke.Color = self.Config.Colors.Accent
    NotifStroke.Transparency = 0.5
    NotifStroke.Thickness = 1.5
    NotifStroke.Parent = Notification
    
    local Icon = Instance.new("TextLabel")
    Icon.Size = UDim2.new(0, 30, 0, 30)
    Icon.Position = UDim2.new(0, 10, 0, 10)
    Icon.BackgroundTransparency = 1
    Icon.Text = Icons.Bell
    Icon.TextColor3 = self.Config.Colors.AccentHover
    Icon.TextSize = 20
    Icon.Font = Enum.Font.GothamBold
    Icon.ZIndex = 202
    Icon.Parent = Notification
    
    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, -50, 0, 20)
    Title.Position = UDim2.new(0, 45, 0, 10)
    Title.BackgroundTransparency = 1
    Title.Text = title
    Title.TextColor3 = self.Config.Colors.Text
    Title.TextSize = 14
    Title.Font = Enum.Font.GothamBold
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.ZIndex = 202
    Title.Parent = Notification
    
    local Message = Instance.new("TextLabel")
    Message.Size = UDim2.new(1, -50, 0, 25)
    Message.Position = UDim2.new(0, 45, 0, 30)
    Message.BackgroundTransparency = 1
    Message.Text = message
    Message.TextColor3 = self.Config.Colors.TextSecondary
    Message.TextSize = 12
    Message.Font = Enum.Font.Gotham
    Message.TextXAlignment = Enum.TextXAlignment.Left
    Message.TextYAlignment = Enum.TextYAlignment.Top
    Message.TextWrapped = true
    Message.ZIndex = 202
    Message.Parent = Notification
    
    TweenSize(Notification, UDim2.new(1, 0, 0, self.Config.Sizes.NotificationHeight), self.Config.AnimationSpeed, Enum.EasingStyle.Quart)
    
    task.delay(duration, function()
        TweenSize(Notification, UDim2.new(1, 0, 0, 0), self.Config.AnimationSpeed, Enum.EasingStyle.Quart)
        task.wait(self.Config.AnimationSpeed)
        Notification:Destroy()
    end)
    
    return Notification
end

-- Set Info
function PrismHub:SetInfo(text)
    self.InfoLabel.Text = text
end

-- Toggle Minimize
function PrismHub:ToggleMinimize()
    self.Minimized = not self.Minimized
    
    local targetSize = self.Minimized and UDim2.new(self.Size.X.Scale, self.Size.X.Offset, 0, self.Config.Sizes.TopBarHeight) or self.Size
    
    TweenSize(self.MainFrame, targetSize, self.Config.AnimationSpeed, Enum.EasingStyle.Quart)
    
    if self.Config.BlurEnabled then
        if self.Minimized then
            TweenService:Create(self.Blur, TweenInfo.new(self.Config.BlurTweenDuration, Enum.EasingStyle.Quart), {Size = 0}):Play()
        else
            TweenService:Create(self.Blur, TweenInfo.new(self.Config.BlurTweenDuration, Enum.EasingStyle.Quart), {Size = self.Config.BlurIntensity}):Play()
        end
    end
end

-- Make Draggable
function PrismHub:MakeDraggable(frame, dragHandle)
    local dragging = false
    local dragStart = nil
    local startPos = nil
    
    dragHandle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
        end
    end)
    
    dragHandle.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            local newPos = UDim2.new(
                startPos.X.Scale,
                startPos.X.Offset + delta.X,
                startPos.Y.Scale,
                startPos.Y.Offset + delta.Y
            )
            
            TweenPosition(frame, newPos, 0.15, Enum.EasingStyle.Quart)
            startPos = newPos
            dragStart = input.Position
        end
    end)
end

-- Fade In Animation
function PrismHub:FadeIn()
    self.MainFrame.Size = UDim2.new(0, 0, 0, 0)
    self.MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    
    TweenSize(self.MainFrame, self.Size, 0.5, Enum.EasingStyle.Quart)
    TweenPosition(self.MainFrame, UDim2.new(0.5, -self.Size.X.Offset/2, 0.5, -self.Size.Y.Offset/2), 0.5, Enum.EasingStyle.Quart)
    
    if self.Config.BlurEnabled then
        TweenService:Create(self.Blur, TweenInfo.new(0.5, Enum.EasingStyle.Quart), {Size = self.Config.BlurIntensity}):Play()
    end
end

-- Destroy Hub
function PrismHub:Destroy()
    TweenService:Create(self.MainFrame, TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart, Enum.EasingDirection.In), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0)
    }):Play()
    
    TweenService:Create(self.Blur, TweenInfo.new(self.Config.AnimationSpeed, Enum.EasingStyle.Quart), {Size = 0}):Play()
    
    task.wait(self.Config.AnimationSpeed)
    self.ScreenGui:Destroy()
    self.Blur:Destroy()
end

return PrismHub
